# CacheStudy

## 캐시는 남용하지 않아야한다.

데이터가 그렇게 많지 않은데도 
DB 가지고 성능이 안 나올때 쓰면
문제가 발생한다.

100 만건
DB Query -> 10초 걸려요 \
= O 인덱스를 고민했는가? \
= X 캐시 쓰면 되지~

DB 로도 처리에 1초가 걸린다. \
초당 요청이 너무 많다. TPS n만 \
데이터 조회 패턴이 적은 케이스 -> 히트율이 높은 상황 \
DB가 부하가 심할 때 \
줄여주기 위해 캐시를 적용하면 \
기본적으로 잘 적용한 케이스 


---
## 글로벌 캐시일 경우

캐시도 버전관리, 캐시 키 관리 / 캐시 키 변경, 필드변경 필수

KEY : AAA
a : "A"
b : "B"
c : "C"

KEY : BBB
a : "A" 
B : "B"
c : "C"

배포해야지~
캐시 키 다 날림

롤링 배포
일부 버전이 살아있다.

배포 중간에 일부 버전이 살아있음

에러 존나 발생

글로벌 캐시 기준임

---
추가 고민

동기화 신경
캐시 스토리지가 뻗었을 때 롤백
데이터베이스만 다운됐을 때 캐시 데이터는 어떻게 퍼올릴건가?
푸쉬 방식으로 할거야? 풀 방식으로할꺼야?
